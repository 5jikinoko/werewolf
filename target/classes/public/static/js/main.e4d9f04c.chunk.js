(this["webpackJsonpwerewolf-front"]=this["webpackJsonpwerewolf-front"]||[]).push([[0],{14:function(e,t,s){},9:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(3),c=s(4),r=s(6),i=s(5),o=s(8),u=s.n(o),l=(s(14),s(1)),h=s.n(l),j=s(0),m=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={text:""},a}return Object(c.a)(s,[{key:"handleButton",value:function(e){this.setState({text:""}),this.props.onClick(e)}},{key:"render",value:function(){var e=this,t=this.state.text;return Object(j.jsxs)("form",{className:"chat-form",children:[Object(j.jsx)("textarea",{onChange:function(t){e.setState({text:t.target.value})},value:t,className:"chat-input",id:"input-chat",rows:"5",warp:"hard"}),Object(j.jsxs)("button",{onClick:function(){return e.handleButton(t)},className:"chat-button",type:"button",children:["\u4e00\u822c\u30c1\u30e3\u30c3\u30c8\u3067",Object(j.jsx)("br",{}),"\u767a\u8a00"]})]})}}]),s}(h.a.Component);function d(e){return Object(j.jsxs)("div",{className:"chat-gutter",children:[Object(j.jsx)("div",{className:"chat-contents-left",children:Object(j.jsx)("img",{src:"https://www.shibaura-it.ac.jp/touch-icon.png",className:"user-icon"})}),Object(j.jsxs)("div",{className:"chat-contents-right",children:[Object(j.jsx)("div",{className:"user-name",children:e.userName}),Object(j.jsx)("div",{className:"chat-text",children:e.text})]})]})}function b(e){var t=null,s=document.cookie;if(""!==s)for(var a=s.split("; "),n=0;n<a;++n){var c=a[n].split("=");if(c[0]===e){t=c[1];break}}return t}var f=function(e){var t=Object(l.useRef)(null),s=e.messages;return Object(l.useEffect)((function(){t.current.scrollIntoView()}),[s.length]),Object(j.jsx)("div",{className:"scroll-area",ref:t,children:s.map((function(e){return Object(j.jsx)(d,{userName:e.userName,text:e.text})}))})},v=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var c;return Object(n.a)(this,s),(c=t.call(this,e)).state={messages:[],roomID:b("roomID"),UUID:b("UUID"),ws:null},c.handleButton=c.handleButton.bind(Object(a.a)(c)),c}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new WebSocket("ws://160.16.141.77:51000/websocket");t.onopen=function(){console.log("connected"),e.setState({ws:t})},t.onmessage=function(t){var s=JSON.parse(t.data),a=e.state.messages.slice(),n={userName:s.userName,text:s.text};e.setState({messages:a.concat(n)})},t.onclose=function(){var t=e.state.messages.slice();e.setState({messages:t.concat({userName:"\u30b7\u30b9\u30c6\u30e0",text:"\u901a\u4fe1\u304c\u6b62\u307e\u308a\u307e\u3057\u305f"})})}}},{key:"componentWillUnmount",value:function(){var e=this.state.ws,t={type:-1,UUID:this.UUID,text:""},s=JSON.stringify(t);e.send(s),e.close()}},{key:"displayMessage",value:function(e){var t=JSON.parse(e.data),s=this.state.messages.slice(),a={userName:t.userName,text:t.text};this.setState({messages:s.concat(a)})}},{key:"sendMessage",value:function(){var e=this.state.ws,t={UUID:this.state.UUID,type:0,text:this.state.messages},s=JSON.stringify(t);e.send(s)}},{key:"handleButton",value:function(e){var t=this.state.ws,s={type:1,userName:"al19009",text:e},a=JSON.stringify(s);t.send(a)}},{key:"render",value:function(){this.state.messages;return Object(j.jsxs)("div",{className:"chat-area",children:[Object(j.jsx)("div",{className:"chat-container",children:Object(j.jsx)(f,{messages:this.state.messages})}),Object(j.jsx)(m,{onClick:this.handleButton})]})}}]),s}(h.a.Component),O=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)("div",{className:"left-bar",children:"\u4ed6\u30d7\u30ec\u30a4\u30e4\u30fc\u60c5\u5831"}),Object(j.jsxs)("div",{className:"center-area",children:[Object(j.jsx)("div",{className:"center-header",children:"\u4e00\u65e5\u76ee\u591c\u3000\u8b70\u8ad6\u6642\u9593\u300003:21\u30004/10"}),Object(j.jsx)(v,{})]}),Object(j.jsx)("div",{className:"right-bar",children:"\u81ea\u5206\u306e\u60c5\u5831"})]})}}]),s}(h.a.Component);u.a.render(Object(j.jsx)(O,{}),document.getElementById("root"))}},[[9,1,2]]]);
//# sourceMappingURL=main.e4d9f04c.chunk.js.map